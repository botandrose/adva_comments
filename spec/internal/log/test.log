  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "title" varchar, "host" varchar, "comment_filter" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "title" varchar, "permalink" varchar, "type" varchar, "comment_age" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "author_id" integer NOT NULL, "title" varchar, "body" text, "body_html" text, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e74ce85cbc"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id" ON "articles" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_section_id" ON "articles" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_author_id" ON "articles" ("author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_name" varchar, "author_email" varchar, "author_homepage" varchar, "body" text, "body_html" text, "approved" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id_and_published_at" ON "articles" ("site_id", "published_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-09-28 14:41:15.204925', '2025-09-28 14:41:15.204929') RETURNING "key"[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "title" varchar, "host" varchar, "comment_filter" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "title" varchar, "permalink" varchar, "type" varchar, "comment_age" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "author_id" integer NOT NULL, "title" varchar, "body" text, "body_html" text, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e74ce85cbc"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id" ON "articles" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_section_id" ON "articles" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_author_id" ON "articles" ("author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_name" varchar, "author_email" varchar, "author_homepage" varchar, "body" text, "body_html" text, "approved" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id_and_published_at" ON "articles" ("site_id", "published_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-09-28 14:41:53.630692', '2025-09-28 14:41:53.630695') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "title" varchar, "host" varchar, "comment_filter" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "title" varchar, "permalink" varchar, "type" varchar, "comment_age" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "author_id" integer NOT NULL, "title" varchar, "body" text, "body_html" text, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e74ce85cbc"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id" ON "articles" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_section_id" ON "articles" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_author_id" ON "articles" ("author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_name" varchar, "author_email" varchar, "author_homepage" varchar, "body" text, "body_html" text, "approved" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id_and_published_at" ON "articles" ("site_id", "published_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-09-28 23:12:02.897929', '2025-09-28 23:12:02.897931') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'cc22bf852b9a92976507d560fbfc0a0bfa73e42d', '2025-09-28 23:12:02.898781', '2025-09-28 23:12:02.898783') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActivitiesTable (20080401000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "actions" varchar, "object_id" integer, "object_type" varchar(15), "object_attributes" text, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_author" ON "activities" ("author_type", "author_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20080401000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
Migrating to CreateSitesTable (20080401000001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "subtitle" varchar, "email" varchar, "timezone" varchar, "theme_names" varchar, "ping_urls" text, "akismet_key" varchar(100), "akismet_url" varchar, "approve_comments" boolean, "comment_age" integer, "comment_filter" varchar, "search_path" varchar, "tag_path" varchar, "tag_layout" varchar, "permalink_style" varchar, "permissions" text)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "title" varchar, "host" varchar, "comment_filter" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "title" varchar, "permalink" varchar, "type" varchar, "comment_age" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "author_id" integer NOT NULL, "title" varchar, "body" text, "body_html" text, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e74ce85cbc"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id" ON "articles" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_section_id" ON "articles" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_author_id" ON "articles" ("author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_name" varchar, "author_email" varchar, "author_homepage" varchar, "body" text, "body_html" text, "approved" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id_and_published_at" ON "articles" ("site_id", "published_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-09-28 23:12:53.906096', '2025-09-28 23:12:53.906098') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'cc22bf852b9a92976507d560fbfc0a0bfa73e42d', '2025-09-28 23:12:53.906911', '2025-09-28 23:12:53.906912') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActivitiesTable (20080401000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "actions" varchar, "object_id" integer, "object_type" varchar(15), "object_attributes" text, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_author" ON "activities" ("author_type", "author_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20080401000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
Migrating to CreateSitesTable (20080401000001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "subtitle" varchar, "email" varchar, "timezone" varchar, "theme_names" varchar, "ping_urls" text, "akismet_key" varchar(100), "akismet_url" varchar, "approve_comments" boolean, "comment_age" integer, "comment_filter" varchar, "search_path" varchar, "tag_path" varchar, "tag_layout" varchar, "permalink_style" varchar, "permissions" text)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (8.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "title" varchar, "host" varchar, "comment_filter" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "title" varchar, "permalink" varchar, "type" varchar, "comment_age" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "author_id" integer NOT NULL, "title" varchar, "body" text, "body_html" text, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e74ce85cbc"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id" ON "articles" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_section_id" ON "articles" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_author_id" ON "articles" ("author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_name" varchar, "author_email" varchar, "author_homepage" varchar, "body" text, "body_html" text, "approved" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id_and_published_at" ON "articles" ("site_id", "published_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.2ms)[0m  [1m[32mINSERT INTO "sites" ("name", "title", "host", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["title", "Test Site Title"], ["host", "test-site.com"], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:13:55.364300"], ["updated_at", "2025-09-28 23:13:55.364300"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "title" varchar, "host" varchar, "comment_filter" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "title" varchar, "permalink" varchar, "type" varchar, "comment_age" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "author_id" integer NOT NULL, "title" varchar, "body" text, "body_html" text, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e74ce85cbc"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id" ON "articles" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_section_id" ON "articles" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_articles_on_author_id" ON "articles" ("author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_name" varchar, "author_email" varchar, "author_homepage" varchar, "body" text, "body_html" text, "approved" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_articles_on_site_id_and_published_at" ON "articles" ("site_id", "published_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-09-28 23:14:16.356596', '2025-09-28 23:14:16.356598') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'cc22bf852b9a92976507d560fbfc0a0bfa73e42d', '2025-09-28 23:14:16.357533', '2025-09-28 23:14:16.357534') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActivitiesTable (20080401000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "actions" varchar, "object_id" integer, "object_type" varchar(15), "object_attributes" text, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_author" ON "activities" ("author_type", "author_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20080401000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
Migrating to CreateSitesTable (20080401000001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "subtitle" varchar, "email" varchar, "timezone" varchar, "theme_names" varchar, "ping_urls" text, "akismet_key" varchar(100), "akismet_url" varchar, "approve_comments" boolean, "comment_age" integer, "comment_filter" varchar, "search_path" varchar, "tag_path" varchar, "tag_layout" varchar, "permalink_style" varchar, "permissions" text)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "permalink" varchar, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-09-28 23:16:12.746943', '2025-09-28 23:16:12.746945') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '2bc8907a2fa9403021236d705d1beb76505e6e2d', '2025-09-28 23:16:12.747713', '2025-09-28 23:16:12.747714') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActivitiesTable (20080401000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "actions" varchar, "object_id" integer, "object_type" varchar(15), "object_attributes" text, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_author" ON "activities" ("author_type", "author_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20080401000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
Migrating to CreateSitesTable (20080401000001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "subtitle" varchar, "email" varchar, "timezone" varchar, "theme_names" varchar, "ping_urls" text, "akismet_key" varchar(100), "akismet_url" varchar, "approve_comments" boolean, "comment_age" integer, "comment_filter" varchar, "search_path" varchar, "tag_path" varchar, "tag_layout" varchar, "permalink_style" varchar, "permissions" text)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (6.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "permalink" varchar, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:16:26.288673"], ["updated_at", "2025-09-28 23:16:26.288673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:16:26.299420"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:16:26.300170"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (7.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "permalink" varchar, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:16:41.907102"], ["updated_at", "2025-09-28 23:16:41.907102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:16:41.918257"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:16:41.919066"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (64.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "permalink" varchar, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.2ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:16:57.130252"], ["updated_at", "2025-09-28 23:16:57.130252"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (2.3ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.2ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:16:57.165263"]]
  [1m[36mSite Update (0.1ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:16:57.169049"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:16:57.181710"], ["created_at", "2025-09-28 23:16:57.188218"], ["updated_at", "2025-09-28 23:16:57.188218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (7.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:17:13.871108"], ["updated_at", "2025-09-28 23:17:13.871108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:17:13.882625"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:17:13.883422"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:17:13.885838"], ["created_at", "2025-09-28 23:17:13.890181"], ["updated_at", "2025-09-28 23:17:13.890181"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (6.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:17:22.631418"], ["updated_at", "2025-09-28 23:17:22.631418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:17:22.641747"]]
  [1m[36mSite Update (0.1ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:17:22.642615"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:17:22.645005"], ["created_at", "2025-09-28 23:17:22.649217"], ["updated_at", "2025-09-28 23:17:22.649217"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.0ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:17:22.673145"], ["updated_at", "2025-09-28 23:17:22.673145"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (5.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "section_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "title" varchar, "path" varchar, "permalink" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_section_id" ON "categories" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "categorizations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "categorizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "categorizable_type" varchar, "categorizable_id" integer, "category_id" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categorizations_on_category_id" ON "categorizations" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:17:41.429911"], ["updated_at", "2025-09-28 23:17:41.429911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:17:41.440856"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:17:41.441710"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:17:41.444065"], ["created_at", "2025-09-28 23:17:41.448266"], ["updated_at", "2025-09-28 23:17:41.448266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.0ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:17:41.471675"], ["updated_at", "2025-09-28 23:17:41.471675"]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categorizations" ON "categories"."id" = "categorizations"."category_id" WHERE "categorizations"."categorizable_id" = ? AND "categorizations"."categorizable_type" = ?[0m  [["categorizable_id", 1], ["categorizable_type", "Content"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:17:41.473489"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("site_id", "section_id", "commentable_type", "commentable_id", "author_type", "author_id", "author_name", "author_email", "author_homepage", "body", "body_html", "approved", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["commentable_type", "Content"], ["commentable_id", 1], ["author_type", nil], ["author_id", nil], ["author_name", "Test Commenter"], ["author_email", "commenter@example.com"], ["author_homepage", nil], ["body", "Test comment body"], ["body_html", nil], ["approved", 1], ["created_at", "2025-09-28 23:17:41.510282"], ["updated_at", "2025-09-28 23:17:41.510282"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (6.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "section_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "title" varchar, "path" varchar, "permalink" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_section_id" ON "categories" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "categorizations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categorizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "categorizable_type" varchar, "categorizable_id" integer, "category_id" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categorizations_on_category_id" ON "categorizations" ("category_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "counters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "counters" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "owner_id" integer, "name" varchar(25), "count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_counters_on_owner" ON "counters" ("owner_type", "owner_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:17:59.974402"], ["updated_at", "2025-09-28 23:17:59.974402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:18:00.011594"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:00.013221"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:18:00.016384"], ["created_at", "2025-09-28 23:18:00.022426"], ["updated_at", "2025-09-28 23:18:00.022426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:18:00.040102"], ["updated_at", "2025-09-28 23:18:00.040102"]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categorizations" ON "categories"."id" = "categorizations"."category_id" WHERE "categorizations"."categorizable_id" = ? AND "categorizations"."categorizable_type" = ?[0m  [["categorizable_id", 1], ["categorizable_type", "Content"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:00.042628"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("site_id", "section_id", "commentable_type", "commentable_id", "author_type", "author_id", "author_name", "author_email", "author_homepage", "body", "body_html", "approved", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["commentable_type", "Content"], ["commentable_id", 1], ["author_type", nil], ["author_id", nil], ["author_name", "Test Commenter"], ["author_email", "commenter@example.com"], ["author_homepage", nil], ["body", "Test comment body"], ["body_html", nil], ["approved", 1], ["created_at", "2025-09-28 23:18:00.079555"], ["updated_at", "2025-09-28 23:18:00.079555"]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Content"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 1]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.0ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Site"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 2]]
  [1m[36mArticle Update (0.0ms)[0m  [1m[33mUPDATE "contents" SET "updated_at" = ? WHERE "contents"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:00.088406"], ["id", 1]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:00.088946"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (10.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "section_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "title" varchar, "path" varchar, "permalink" varchar)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_categories_on_section_id" ON "categories" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categorizations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categorizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "categorizable_type" varchar, "categorizable_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_categorizations_on_category_id" ON "categorizations" ("category_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "counters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "counters" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "owner_id" integer, "name" varchar(25), "count" integer DEFAULT 0)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_counters_on_owner" ON "counters" ("owner_type", "owner_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:18:29.275417"], ["updated_at", "2025-09-28 23:18:29.275417"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:18:29.289765"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:29.290650"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:18:29.293386"], ["created_at", "2025-09-28 23:18:29.298357"], ["updated_at", "2025-09-28 23:18:29.298357"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.2ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:18:29.316680"], ["updated_at", "2025-09-28 23:18:29.316680"]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categorizations" ON "categories"."id" = "categorizations"."category_id" WHERE "categorizations"."categorizable_id" = ? AND "categorizations"."categorizable_type" = ?[0m  [["categorizable_id", 1], ["categorizable_type", "Content"]]
  [1m[36mSite Update (0.1ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:29.319090"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mComment Create (0.4ms)[0m  [1m[32mINSERT INTO "comments" ("site_id", "section_id", "commentable_type", "commentable_id", "author_type", "author_id", "author_name", "author_email", "author_homepage", "body", "body_html", "approved", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["commentable_type", "Content"], ["commentable_id", 1], ["author_type", nil], ["author_id", nil], ["author_name", "Test Commenter"], ["author_email", "commenter@example.com"], ["author_homepage", nil], ["body", "Test comment body"], ["body_html", nil], ["approved", 1], ["created_at", "2025-09-28 23:18:29.362605"], ["updated_at", "2025-09-28 23:18:29.362605"]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Content"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 1]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Site"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 2]]
  [1m[36mArticle Update (0.0ms)[0m  [1m[33mUPDATE "contents" SET "updated_at" = ? WHERE "contents"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:29.375233"], ["id", 1]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:29.375892"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT "sites".* FROM "sites" WHERE "sites"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ? ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (59.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "section_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "title" varchar, "path" varchar, "permalink" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_section_id" ON "categories" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categorizations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categorizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "categorizable_type" varchar, "categorizable_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_categorizations_on_category_id" ON "categorizations" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "counters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "counters" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "owner_id" integer, "name" varchar(25), "count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_counters_on_owner" ON "counters" ("owner_type", "owner_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:18:43.713433"], ["updated_at", "2025-09-28 23:18:43.713433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:18:43.726107"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:43.726909"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:18:43.729701"], ["created_at", "2025-09-28 23:18:43.734555"], ["updated_at", "2025-09-28 23:18:43.734555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.2ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:18:43.752446"], ["updated_at", "2025-09-28 23:18:43.752446"]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categorizations" ON "categories"."id" = "categorizations"."category_id" WHERE "categorizations"."categorizable_id" = ? AND "categorizations"."categorizable_type" = ?[0m  [["categorizable_id", 1], ["categorizable_type", "Content"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:43.754689"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("site_id", "section_id", "commentable_type", "commentable_id", "author_type", "author_id", "author_name", "author_email", "author_homepage", "body", "body_html", "approved", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["commentable_type", "Content"], ["commentable_id", 1], ["author_type", nil], ["author_id", nil], ["author_name", "Test Commenter"], ["author_email", "commenter@example.com"], ["author_homepage", nil], ["body", "Test comment body"], ["body_html", nil], ["approved", 1], ["created_at", "2025-09-28 23:18:43.792968"], ["updated_at", "2025-09-28 23:18:43.792968"]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Content"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 1]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.0ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Site"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 2]]
  [1m[36mArticle Update (0.0ms)[0m  [1m[33mUPDATE "contents" SET "updated_at" = ? WHERE "contents"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:43.801577"], ["id", 1]]
  [1m[36mSite Update (0.1ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:43.802238"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT "sites".* FROM "sites" WHERE "sites"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ? ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (6.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "section_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "title" varchar, "path" varchar, "permalink" varchar)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_categories_on_section_id" ON "categories" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categorizations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "categorizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "categorizable_type" varchar, "categorizable_id" integer, "category_id" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categorizations_on_category_id" ON "categorizations" ("category_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "counters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "counters" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "owner_id" integer, "name" varchar(25), "count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_counters_on_owner" ON "counters" ("owner_type", "owner_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:18:57.229304"], ["updated_at", "2025-09-28 23:18:57.229304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:18:57.239652"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:57.240432"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:18:57.242728"], ["created_at", "2025-09-28 23:18:57.246805"], ["updated_at", "2025-09-28 23:18:57.246805"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.0ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:18:57.269456"], ["updated_at", "2025-09-28 23:18:57.269456"]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categorizations" ON "categories"."id" = "categorizations"."category_id" WHERE "categorizations"."categorizable_id" = ? AND "categorizations"."categorizable_type" = ?[0m  [["categorizable_id", 1], ["categorizable_type", "Content"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:57.271196"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("site_id", "section_id", "commentable_type", "commentable_id", "author_type", "author_id", "author_name", "author_email", "author_homepage", "body", "body_html", "approved", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["commentable_type", "Content"], ["commentable_id", 1], ["author_type", nil], ["author_id", nil], ["author_name", "Test Commenter"], ["author_email", "commenter@example.com"], ["author_homepage", nil], ["body", "Test comment body"], ["body_html", nil], ["approved", 1], ["created_at", "2025-09-28 23:18:57.305155"], ["updated_at", "2025-09-28 23:18:57.305155"]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Content"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 1]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Site"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 2]]
  [1m[36mArticle Update (0.0ms)[0m  [1m[33mUPDATE "contents" SET "updated_at" = ? WHERE "contents"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:57.314403"], ["id", 1]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:18:57.314927"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT "sites".* FROM "sites" WHERE "sites"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ? ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (6.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "host" varchar, "title" varchar, "timezone" varchar, "comment_age" integer, "comment_filter" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sites_on_host" ON "sites" ("host")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar, "site_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "path" varchar, "permalink" varchar, "title" varchar, "comment_age" integer DEFAULT 0, "content_filter" varchar, "permissions" text, "published_at" datetime(6))[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id" ON "sections" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sections_on_site_id_and_permalink" ON "sections" ("site_id", "permalink")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(40), "last_name" varchar(40), "email" varchar(100), "password_hash" varchar(40), "password_salt" varchar(40), "anonymous" boolean DEFAULT 0, "verified_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "contents"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "contents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "type" varchar(20), "title" varchar, "permalink" varchar, "body" text, "excerpt" text, "excerpt_html" text, "body_html" text, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "version" integer, "filter" varchar, "comment_age" integer DEFAULT 0, "cached_tag_list" varchar, "assets_count" integer DEFAULT 0, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "published_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_site_id" ON "contents" ("site_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id" ON "contents" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_author" ON "contents" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_contents_on_section_id_and_permalink" ON "contents" ("section_id", "permalink")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "section_id" integer, "parent_id" integer, "lft" integer DEFAULT 0 NOT NULL, "rgt" integer DEFAULT 0 NOT NULL, "title" varchar, "path" varchar, "permalink" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_section_id" ON "categories" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categorizations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categorizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "categorizable_type" varchar, "categorizable_id" integer, "category_id" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_categorizations_on_category_id" ON "categorizations" ("category_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer NOT NULL, "section_id" integer NOT NULL, "commentable_type" varchar NOT NULL, "commentable_id" integer NOT NULL, "author_type" varchar, "author_id" integer, "author_name" varchar(40), "author_email" varchar(40), "author_homepage" varchar, "body" text, "body_html" text, "approved" integer DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id" ON "comments" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_section_id" ON "comments" ("section_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_author" ON "comments" ("author_type", "author_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable_type_and_commentable_id" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_comments_on_site_id_and_approved" ON "comments" ("site_id", "approved")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "site_id" integer, "section_id" integer, "object_type" varchar, "object_id" integer, "type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_site_id" ON "activities" ("site_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_section_id" ON "activities" ("section_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_object" ON "activities" ("object_type", "object_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "counters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "counters" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar, "owner_id" integer, "name" varchar(25), "count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_counters_on_owner" ON "counters" ("owner_type", "owner_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mSite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sites" WHERE "sites"."host" = ? LIMIT ?[0m  [["host", "test-site.com"], ["LIMIT", 1]]
  [1m[36mSite Create (0.1ms)[0m  [1m[32mINSERT INTO "sites" ("name", "host", "title", "timezone", "comment_age", "comment_filter", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Site"], ["host", "test-site.com"], ["title", "Test Site Title"], ["timezone", nil], ["comment_age", nil], ["comment_filter", "textile_filter"], ["created_at", "2025-09-28 23:20:27.702344"], ["updated_at", "2025-09-28 23:20:27.702344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mSection Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sections" WHERE "sections"."permalink" = ? AND "sections"."site_id" = ? LIMIT ?[0m  [["permalink", "test-section"], ["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? AND "sections"."lft" <= 0 AND "sections"."rgt" >= 0 ORDER BY "sections"."lft" ASC, lft[0m  [["site_id", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."site_id" = ? ORDER BY "sections"."rgt" DESC LIMIT ?[0m  [["site_id", 1], ["LIMIT", 1]]
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("type", "site_id", "parent_id", "lft", "rgt", "path", "permalink", "title", "comment_age", "content_filter", "permissions", "published_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["type", nil], ["site_id", 1], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["path", ""], ["permalink", "test-section"], ["title", "Test Section"], ["comment_age", 0], ["content_filter", nil], ["permissions", nil], ["published_at", "2025-09-28 23:20:27.738478"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:20:27.739542"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_hash", "password_salt", "anonymous", "verified_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["email", "test@example.com"], ["password_hash", "hash"], ["password_salt", "salt"], ["anonymous", 0], ["verified_at", "2025-09-28 23:20:27.742283"], ["created_at", "2025-09-28 23:20:27.747085"], ["updated_at", "2025-09-28 23:20:27.747085"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mContent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."section_id" = ? AND "contents"."id" IS NOT NULL AND "contents"."permalink" = ? LIMIT ?[0m  [["section_id", 1], ["permalink", "test-article"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "test@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "contents" WHERE "contents"."type" = ? AND "contents"."permalink" = ? AND "contents"."section_id" = ? LIMIT ?[0m  [["type", "Article"], ["permalink", "test-article"], ["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mContent Load (0.0ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."section_id" = ? ORDER BY "contents"."rgt" DESC LIMIT ?[0m  [["section_id", 1], ["LIMIT", 1]]
  [1m[36mArticle Create (0.1ms)[0m  [1m[32mINSERT INTO "contents" ("site_id", "section_id", "type", "title", "permalink", "body", "excerpt", "excerpt_html", "body_html", "author_type", "author_id", "author_name", "author_email", "author_homepage", "version", "filter", "comment_age", "cached_tag_list", "assets_count", "parent_id", "lft", "rgt", "published_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["type", "Article"], ["title", "Test Article"], ["permalink", "test-article"], ["body", "Test article body"], ["excerpt", nil], ["excerpt_html", nil], ["body_html", nil], ["author_type", "User"], ["author_id", 1], ["author_name", "Test User"], ["author_email", "test@example.com"], ["author_homepage", nil], ["version", nil], ["filter", nil], ["comment_age", 0], ["cached_tag_list", nil], ["assets_count", 0], ["parent_id", nil], ["lft", 1], ["rgt", 2], ["published_at", "2008-01-01 17:00:00"], ["created_at", "2025-09-28 23:20:27.761359"], ["updated_at", "2025-09-28 23:20:27.761359"]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categorizations" ON "categories"."id" = "categorizations"."category_id" WHERE "categorizations"."categorizable_id" = ? AND "categorizations"."categorizable_type" = ?[0m  [["categorizable_id", 1], ["categorizable_type", "Content"]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:20:27.763044"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("site_id", "section_id", "commentable_type", "commentable_id", "author_type", "author_id", "author_name", "author_email", "author_homepage", "body", "body_html", "approved", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["site_id", 1], ["section_id", 1], ["commentable_type", "Content"], ["commentable_id", 1], ["author_type", nil], ["author_id", nil], ["author_name", "Test Commenter"], ["author_email", "commenter@example.com"], ["author_homepage", nil], ["body", "Test comment body"], ["body_html", nil], ["approved", 1], ["created_at", "2025-09-28 23:20:27.795806"], ["updated_at", "2025-09-28 23:20:27.795806"]]
  [1m[36mCounter Load (0.1ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.1ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Content"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Content"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 1]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Create (0.0ms)[0m  [1m[32mINSERT INTO "counters" ("owner_type", "owner_id", "name", "count") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["owner_type", "Site"], ["owner_id", 1], ["name", "comments"], ["count", 0]]
  [1m[36mCounter Load (0.0ms)[0m  [1m[34mSELECT "counters".* FROM "counters" WHERE "counters"."owner_id" = ? AND "counters"."owner_type" = ? AND "counters"."name" = ? LIMIT ?[0m  [["owner_id", 1], ["owner_type", "Site"], ["name", "comments"], ["LIMIT", 1]]
  [1m[36mCounter Update (0.0ms)[0m  [1m[33mUPDATE "counters" SET "count" = ? WHERE "counters"."id" = ?[0m  [["count", 1], ["id", 2]]
  [1m[36mArticle Update (0.0ms)[0m  [1m[33mUPDATE "contents" SET "updated_at" = ? WHERE "contents"."id" = ?[0m  [["updated_at", "2025-09-28 23:20:27.804032"], ["id", 1]]
  [1m[36mSite Update (0.0ms)[0m  [1m[33mUPDATE "sites" SET "updated_at" = ? WHERE "sites"."id" = ?[0m  [["updated_at", "2025-09-28 23:20:27.804577"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT "sites".* FROM "sites" WHERE "sites"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ? ORDER BY "sections"."lft" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "contents".* FROM "contents" WHERE "contents"."type" = ? ORDER BY "contents"."id" ASC LIMIT ?[0m  [["type", "Article"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ? ORDER BY "comments"."created_at" ASC, "comments"."id" ASC LIMIT ?[0m  [["commentable_id", 1], ["commentable_type", "Content"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
